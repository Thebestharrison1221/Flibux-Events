<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="icon" href="images/logo.png">
    <meta name="description" content="The best Events.">

    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/pages/home.css">

    <title>Flibux Events | Home</title>
</head>
<body>
    <!--Navbar-->
    <div class="navbar">
        <div class="menu-mobile">
            <a href="index.html">
                <div class="logo">
                    <img src="images/logo.png" alt="Server logo" class="logo-img">
                    <h3 class="Flibux Events">Flibux Events</h3>
                </div>
            </a>

            <div class="hamburger">
                <i class="fa-solid fa-bars"></i>
            </div>
        </div>

        <div class="links">
            <a href="#" class="link active">Home</a>
            <a href="admin-team.html" class="link">Admin-Team</a>
            <a href="apply.html" class="link">Apply</a>
        </div>
    </div>

    <!--Header-->
    <section id="header">
        <div class="content">
            <div class="left">
                <div class="Flibux Events">
                    <p class="minecraft-server-ip" style="display: none;">Comming soon</p>
                    <h1 class="title" style="display: none;">Our <span>admin-team</span></h1>
                </div>
                <p class="server-description">
                    <br><br>Be the last standing.
                </p>
                
                <div class="buttons">
                    <a href="#about"><button class="how-to-join">Show more</button></a>
                </div>
                <p class="ip-copied" style="display: none;">IP was successfully copied!</p>
            </div>
            <div class="right">
                <img src="images/logo.png" alt="Server logo" class="logo-img logo-img-header">

                <div class="stats">
                    <div class="stat">
                        <div class="icon">
                            <i class="fa-brands fa-discord"></i>
                        </div>
                        <div class="texts">
                            <h5 class="stat-title">Discord server</h5>
                            <p><span class="stat-number discord-online-users">Loading...</span> users online</p>
                        </div>
                    </div>
                    <div class="stat">
                        <div class="icon">
                            <i class="fa-solid fa-server"></i>
                        </div>
                        <div class="texts">
                            <h5 class="stat-title">Minecraft server</h5>
                            <p><span class="stat-number minecraft-online-players">No</span> players online</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<!--About us-->
<section id="about">
    <div class="content">
        <div class="left">
            <h2 class="section-title">Thank you!</h2>
            <p class="about-us">From the people behind Flibux Events, we thank you for looking to see what we do and who we are</p>
        </div>

        <div class="right">
            <div class="image-container">
                <img src="images/about-section-person-image.png" alt="Minecraft person">
            </div>
            <div class="img-background"></div>
        </div>
    </div>
</section>

<section id="event">
        <div class="content event-list">
            <div class="game">
                <img src="images/lastwinner.png" alt="lastwinner">

                <div class="info">
                    <h2 class="section-title">Survival</h2>
                    <div class="game-description">
                        <p>Last Beta event these where the standings</p>
                        <ul class="services">
                            <li class="service">1st - GoldenKnight/omlt</li>
                            <li class="service">2st - MilkMarket/MiniKuna</li>
                            <li class="service">3st - IQ_flinty</li>
                        </ul>
                    </div>
                </div>
            </div>
    </section>
    <!--Discord-->
    <section id="discord">
        <div class="content">
            <h2 class="section-title">Have a <span>problem</span> or want to get in touch with others? <br> Join our <span>Discord!</span></h2>
            <a href="https://discord.gg/wQakjg5PFq" class="discord-link"><button class="join-discord">Join Discord</button></a>
        </div>
    </section>

    <!--FAQs-->
    <section id="faq">
        <div class="content">
            <div class="info">
                <h2 class="section-title">Server <span>FAQs.</span></h2>
                <p class="section-description">What to know a little more?</p>
            </div>

            <div class="accordion faqList">
                <div class="accordion-item">
                    <div class="accordion-item-header">
                        How it's run.
                    </div>
                    <div class="accordion-item-body">
                        <div class="accordion-item-body-content">
                            The server is completely mod-free! This means no mods, no lag, and lots of fun. This does limit us in some ways, but really, with the power of knowledge, we can do whatever we want!
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--Footer-->
    <footer id="footer">
        <p class="copyright">&copy; 2024 <span class="Flibux Events-footer">Flibux Events</span>. All rights reserved.</p>
        <div class="social-links">
            <a href="#" class="link tiktok-link"><i class="fa-brands fa-tiktok"></i></a>
            <a href="#" class="link instagram-link"><i class="fa-brands fa-square-instagram"></i></a>
            <a href="#" class="link discord-link-footer"><i class="fa-brands fa-discord"></i></a>
        </div>
    </footer>
    
    <script src="js/script.js"></script>
    <script src="https://kit.fontawesome.com/cbf5ee59c8.js" crossorigin="anonymous"></script>
    <script>
        const serverIP = '194.153.216.227'; // Replace with your server IP
        const serverPort = '25659'; 

        async function fetchPlayerCount() {
            try {
                const response = await fetch(`https://api.mcsrvstat.us/2/${serverIP}:${serverPort}`);
                const data = await response.json();
                
                if (data.online) {
                    document.querySelector('.minecraft-online-players').textContent = data.players.online || '0';
                } else {
                    document.querySelector('.minecraft-online-players').textContent = 'Offline';
                }
            } catch (error) {
                console.error('Error fetching player count:', error);
                document.querySelector('.minecraft-online-players').textContent = 'Error';
            }
        }

        const DISCORD_GUILD_ID = '1287012321574785054'; // Replace with your Discord server ID

        async function fetchDiscordUserCount() {
            try {
                const response = await fetch(`https://discord.com/api/v10/guilds/${DISCORD_GUILD_ID}/widget.json`);
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                document.querySelector('.discord-online-users').textContent = data.presence_count || '0';
            } catch (error) {
                console.error('Error fetching Discord user count:', error);
                document.querySelector('.discord-online-users').textContent = 'Error';
            }
        }

        // Call both functions on page load
        window.onload = function() {
            fetchPlayerCount(); // Fetch Minecraft player count
            fetchDiscordUserCount(); // Fetch Discord user count
        };
    </script>
</body>
</html>
